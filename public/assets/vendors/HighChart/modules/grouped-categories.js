(function(e){var A=void 0,w=Math.round,p=Math.min,s=Math.max,l=e.merge,h=e.pick,y=(window.HighchartsAdapter&&window.HighchartsAdapter.inArray)||e.inArray,x=e.Axis.prototype,n=e.Tick.prototype,i=x.init,g=x.render,r=x.setCategories,d=n.getLabelSize,k=n.addLabel,b=n.destroy,j=n.render;function v(C,B){this.userOptions=o(C);this.name=C.name||C;this.parent=B;return this}v.prototype.toString=function(){var C=[],B=this;while(B){C.push(B.name);B=B.parent}return C.join(", ")};function c(B){return B!==A&&B!==null}function f(C){var D=C.length,B=0;while(D--){B+=C[D]}return B}function a(F,E,D,G,H){var C=F.length,B;H||(H=0);D.depth||(D.depth=0);while(C--){B=F[C];if(G){B.parent=G}if(B.categories){a(B.categories,E,D,B,H+1)}else{u(E,B,G)}}D.depth=s(D.depth,H)}function u(C,B,D){C.unshift(new v(B,D));while(D){D.leaves++||(D.leaves=1);D=D.parent}}function m(C,D,B){if(D[0]===D[2]){D[0]=D[2]=w(D[0])-(B%2/2)}if(D[1]===D[3]){D[1]=D[3]=w(D[1])+(B%2/2)}C.push("M",D[0],D[1],"L",D[2],D[3])}function q(C){var B;while(C){B=C.parent;if(C.label){C.label.destroy()}delete C.parent;delete C.label;C=B}}function t(B,C){return B.getPosition(B.axis.horiz,C,B.axis.tickmarkOffset)}function z(B,E,F){var C=B.length,D;while(C--){D=B[C][E];if(D){z(D,E,F)}F(B[C])}}function o(B){return JSON.parse(JSON.stringify(B))}x.init=function(C,B){i.call(this,C,B);if(typeof B==="object"&&B.categories){this.setupGroups(B)}};x.setupGroups=function(D){var C,B=[],E={};C=o(D.categories);a(C,B,E);this.categoriesTree=C;this.categories=B;this.isGrouped=E.depth!==0;this.labelsDepth=E.depth;this.labelsSizes=[];this.labelsGridPath=[];this.tickLength=D.tickLength||this.tickLength||null;this.tickWidth=h(D.tickWidth,this.isXAxis?1:0);this.directionFactor=[-1,1,1,-1][this.side];this.options.lineWidth=h(D.lineWidth,1)};x.render=function(){if(this.isGrouped){this.labelsGridPath=[]}if(this.originalTickLength===A){this.originalTickLength=this.options.tickLength}this.options.tickLength=this.isGrouped?0.001:this.originalTickLength;g.call(this);if(!this.isGrouped){if(this.labelsGrid){this.labelsGrid.attr({visibility:"hidden"})}return}var G=this,P=G.options,M=G.top,F=G.left,N=F+G.width,C=M+G.height,E=G.hasVisibleSeries||(typeof G.hasData==="function"?G.hasData():G.hasData),J=G.labelsDepth,B=G.labelsGrid,O=G.horiz,L=G.labelsGridPath,I=P.drawHorizontalBorders===false?J+1:0,H=G.opposite?(O?M:N):(O?C:F),K=G.tickWidth,D;if(G.userTickLength){J-=1}if(!B){B=G.labelsGrid=G.chart.renderer.path().attr({strokeWidth:K,"stroke-width":K,stroke:P.tickColor}).add(G.axisGroup)}while(I<=J){H+=G.groupSize(I);D=O?[F,H,N,H]:[H,M,H,C];m(L,D,K);I++}B.attr({d:L,visibility:E?"visible":"hidden"});G.labelGroup.attr({visibility:E?"visible":"hidden"});z(G.categoriesTree,"categories",function(R){var Q=R.tick;if(!Q){return}if(Q.startAt+Q.leaves-1<G.min||Q.startAt>G.max){Q.label.hide();Q.destroyed=0}else{Q.label.attr({visibility:E?"visible":"hidden"})}})};x.setCategories=function(B,C){if(this.categories){this.cleanGroups()}this.setupGroups({categories:B});this.categories=this.userOptions.categories=B;r.call(this,this.categories,C)};x.cleanGroups=function(){var B=this.ticks,C;for(C in B){if(B[C].parent){delete B[C].parent}}z(this.categoriesTree,"categories",function(E){var D=E.tick,F;if(!D){return}D.label.destroy();for(F in D){delete D[F]}delete E.tick});this.labelsGrid=null};x.groupSize=function(G,C){var E=this.labelsSizes,F=this.directionFactor,B=this.options.labels.groupedOptions?this.options.labels.groupedOptions[G-1]:false,D=0;if(B){if(F==-1){D=B.x?B.x:0}else{D=B.y?B.y:0}}if(C!==A){E[G]=s(E[G]||0,C+10+Math.abs(D))}if(G===true){return f(E)*F}else{if(E[G]){return E[G]*F}}return 0};n.addLabel=function(){var B;k.call(this);if(!this.axis.categories||!(B=this.axis.categories[this.pos])){return}if(this.label){this.label.attr("text",this.axis.labelFormatter.call({axis:this.axis,chart:this.axis.chart,isFirst:this.isFirst,isLast:this.isLast,value:B.name}))}if(this.axis.isGrouped&&this.axis.options.labels.enabled){this.addGroupedLabels(B)}};n.addGroupedLabels=function(C){var H=this,E=this.axis,L=E.chart,Q=E.options.labels,D=Q.useHTML,I=Q.style,F=Q.groupedOptions,K={align:"center",rotation:Q.rotation,x:0,y:0},P=E.horiz?"height":"width",G=0,N;while(H){if(G>0&&!C.tick){this.value=C.name;var B=Q.formatter?Q.formatter.call(this,C):C.name,M=F&&F[G-1],O=M?l(K,F[G-1]):K,J=M&&F[G-1].style?l(I,F[G-1].style):I;delete O.style;N=L.renderer.text(B,0,0,D).attr(O).css(J).add(E.labelGroup);H.startAt=this.pos;H.childCount=C.categories.length;H.leaves=C.leaves;H.visible=this.childCount;H.label=N;H.labelOffsets={x:O.x,y:O.y};C.tick=H}E.groupSize(G,H.label.getBBox()[P]);C=C.parent;if(C){H=H.parent=C.tick||{}}else{H=null}G++}};n.render=function(L,C,H){j.call(this,L,C,H);var T=this.axis.categories[this.pos];if(!this.axis.isGrouped||!T||this.pos>this.axis.max){return}var ab=this,N=ab,G=ab.axis,ah=ab.pos,Q=ab.isFirst,aa=G.max,Z=G.min,ae=G.horiz,K=G.categories[ah],B=G.labelsGridPath,V=G.groupSize(0),R=G.tickLength||V,O=G.tickWidth,U=G.directionFactor,J=t(ab,ah),I=ae?J.y:J.x,ac=G.chart.renderer.fontMetrics(G.options.labels.style.fontSize).b,ag=1,P=((ae&&J.x===G.pos+G.len)||(!ae&&J.y===G.pos))?-1:0,ad,S,F,Y,X,M;if(Q){ad=ae?[G.left,J.y,G.left,J.y+G.groupSize(true)]:G.isXAxis?[J.x,G.top,J.x+G.groupSize(true),G.top]:[J.x,G.top+G.len,J.x+G.groupSize(true),G.top+G.len];m(B,ad,O)}if(ae&&G.left<J.x){m(B,[J.x-P,J.y,J.x-P,J.y+V],O)}else{if(!ae&&G.top<=J.y){m(B,[J.x,J.y+P,J.x+V,J.y+P],O)}}V=I+V;function af(ak,al,aj){var ai=0;if(Q){ai=y(al.name,al.parent.categories);ai=ai<0?0:ai;return ai}return ai}while(N=N.parent){var W=af(N,T,ab),E=N.labelOffsets.x,D=N.labelOffsets.y;F=t(ab,s(N.startAt-1,Z-1));Y=t(ab,p(N.startAt+N.leaves-1-W,aa));M=N.label.getBBox(true);S=G.groupSize(ag);P=((ae&&Y.x===G.pos+G.len)||(!ae&&Y.y===G.pos))?-1:0;X=ae?{x:(F.x+Y.x)/2+E,y:V+S/2+ac-M.height/2-4+D/2}:{x:V+S/2+E,y:(F.y+Y.y-M.height)/2+ac+D};if(!isNaN(X.x)&&!isNaN(X.y)){N.label.attr(X);if(B){if(ae&&G.left<Y.x){m(B,[Y.x-P,V,Y.x-P,V+S],O)}else{if(!ae&&G.top<=Y.y){m(B,[V,Y.y+P,V+S,Y.y+P],O)}}}}V+=S;ag++}};n.destroy=function(){var B=this;while(B=B.parent){B.destroyed++||(B.destroyed=1)}b.call(this)};n.getLabelSize=function(){if(this.axis.isGrouped===true){var B=d.call(this)+10,C=this.axis.labelsSizes[0];if(C<B){this.axis.labelsSizes[0]=B}return f(this.axis.labelsSizes)}else{return d.call(this)}}}(Highcharts));